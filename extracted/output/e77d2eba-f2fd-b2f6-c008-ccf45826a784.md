

Collapse AllExpand All Code: All Code: Multiple Code: C# Code: Visual Basic Code: Visual C++   
---  
  
C#Visual BasicVisual C++

Revit 2024 API  
---  
CompoundStructure..::..IsValid Method   
[CompoundStructure Class](dc1a081e-8dab-565f-145d-a429098d353c.md) See Also [Send Feedback](javascript:SubmitFeedback\('revitapifeedback@autodesk.com','Revit 2024 API','','','','%0\\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\\A%0\\d','Customer%20Feedback'\);)  
---  
  
Checks for errors or inconsistencies in the data in this CompoundStructure. 

**Namespace:** [Autodesk.Revit.DB](87546ba7-461b-c646-cbb1-2cb8f5bff8b2.md)**Assembly:** RevitAPI (in RevitAPI.dll) Version: 24.0.0.0 (24.0.0.0)

# Syntax

C#  
---  
      
    
    public bool IsValid(
    	[Document](db03274b-a107-aa32-9034-f3e0df4bb1ec.md) doc,
    	out IDictionary<int, [CompoundStructureError](8e8457e0-84c4-ccb1-114c-fa25a6d37fed.md)> errMap,
    	out IDictionary<int, int> twoLayerErrorsMap
    )  
  
Visual Basic  
---  
      
    
    Public Function IsValid ( _
    	doc As [Document](db03274b-a107-aa32-9034-f3e0df4bb1ec.md), _
    	<OutAttribute> ByRef errMap As IDictionary(Of Integer, [CompoundStructureError](8e8457e0-84c4-ccb1-114c-fa25a6d37fed.md)), _
    	<OutAttribute> ByRef twoLayerErrorsMap As IDictionary(Of Integer, Integer) _
    ) As Boolean  
  
Visual C++  
---  
      
    
    public:
    bool IsValid(
    	[Document](db03274b-a107-aa32-9034-f3e0df4bb1ec.md)^ doc, 
    	[OutAttribute] IDictionary<int, [CompoundStructureError](8e8457e0-84c4-ccb1-114c-fa25a6d37fed.md)>^% errMap, 
    	[OutAttribute] IDictionary<int, int>^% twoLayerErrorsMap
    )  
  
#### Parameters

doc
    Type: [Autodesk.Revit.DB..::..Document](db03274b-a107-aa32-9034-f3e0df4bb1ec.md) Access to the document in which the CompoundStructure will be used. 

errMap
    Type: System.Collections.Generic..::..IDictionary<(Of <(<'Int32, [CompoundStructureError](8e8457e0-84c4-ccb1-114c-fa25a6d37fed.md)>)>)>% This map will associate each problematic layer index to a value in CompoundStructureError. General structure errors are reported as associated to layer index -1. 

twoLayerErrorsMap
    Type: System.Collections.Generic..::..IDictionary<(Of <(<'Int32, Int32>)>)>% The map is associated to a check run only for vertically Compound Structures. Essentially the Compound Structure is sliced at representative heights. It looks at the region from exterior to interior, and requires that the assigned layer indices do not decrease. If they do, an entry is generated for this map. The first entry is the last valid layer index encountered. The second entry is a region id whose assigned layer index is too small: it should be at least as large as the first entry. 

#### Return Value

True if the compound structure is valid for the document, false otherwise. 

# Remarks

This check is run before the CompoundStructure may be assigned to a particular ElementType. 

# Exceptions

| Exception | Condition |
| --- | --- |
| [Autodesk.Revit.Exceptions..::..ArgumentNullException](631e1424-60f4-929b-4e52-dda9dcd26316.md) | A non-optional argument was null |
  
# See Also

[CompoundStructure Class](dc1a081e-8dab-565f-145d-a429098d353c.md)

[Autodesk.Revit.DB Namespace](87546ba7-461b-c646-cbb1-2cb8f5bff8b2.md)

Send comments on this topic to [Autodesk](mailto:revitapifeedback%40autodesk.com?Subject=Revit 2024 API)