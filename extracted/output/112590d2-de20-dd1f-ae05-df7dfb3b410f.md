

Collapse AllExpand All Code: All Code: Multiple Code: C# Code: Visual Basic Code: Visual C++   
---  
  
C#Visual BasicVisual C++

Revit 2024 API  
---  
Element..::..GetGeneratingElementIds Method   
[Element Class](eb16114f-69ea-f4de-0d0d-f7388b105a16.md) Example See Also [Send Feedback](javascript:SubmitFeedback\('revitapifeedback@autodesk.com','Revit 2024 API','','','','%0\\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\\A%0\\d','Customer%20Feedback'\);)  
---  
  
Returns the ids of the element(s) that generated the input geometry object. 

**Namespace:** [Autodesk.Revit.DB](87546ba7-461b-c646-cbb1-2cb8f5bff8b2.md)**Assembly:** RevitAPI (in RevitAPI.dll) Version: 24.0.0.0 (24.0.0.0)**Since:** 2012 

# Syntax

C#  
---  
      
    
    public ICollection<[ElementId](44f3f7b1-3229-3404-93c9-dc5e70337dd6.md)> GetGeneratingElementIds(
    	[GeometryObject](e0f15010-0e19-6216-e2f0-ab7978145daa.md) geometryObject
    )  
  
Visual Basic  
---  
      
    
    Public Function GetGeneratingElementIds ( _
    	geometryObject As [GeometryObject](e0f15010-0e19-6216-e2f0-ab7978145daa.md) _
    ) As ICollection(Of [ElementId](44f3f7b1-3229-3404-93c9-dc5e70337dd6.md))  
  
Visual C++  
---  
      
    
    public:
    ICollection<[ElementId](44f3f7b1-3229-3404-93c9-dc5e70337dd6.md)^>^ GetGeneratingElementIds(
    	[GeometryObject](e0f15010-0e19-6216-e2f0-ab7978145daa.md)^ geometryObject
    )  
  
#### Parameters

geometryObject
    Type: [Autodesk.Revit.DB..::..GeometryObject](e0f15010-0e19-6216-e2f0-ab7978145daa.md) The geometry object whose generating element is requested. 

#### Return Value

The id(s) of the element(s) that generated (or may have generated) the given geometry object. Empty if no generating elements are found. If the set contains just one id, it is the id of the element that generated the geometry object. 

# Remarks

This function supports many different types of relationships among elements. Most of these relationships will return a single element, for example: 

  * Window and door cutting walls
  * Openings cutting hosts
  * Face splitting faces
  * Wall sweep or reveal traversing wall

A few relationships have the potential for returning multiple elements, including: 
  * Walls joining to other wall(s)
  * Elements extending to roof(s)

If more than one id is returned, one of them (unspecified) is the id of the element that generated the geometry object and the others are ids of related elements. For example, if a wall A is joined to two walls B and C in a way that creates two end faces, and if this function is called for one of the two end faces, it will return the ids of walls B and C. 

# Examples

CopyC#
    
    
    // Find elements joined or attached to the end faces of a given wall (such as walls and roofs).
    // Mid-joined walls (such as in a T configuration) are not found because they do not affect end face geometry.
    
    ICollection<ElementId> joinedElements = new Collection<ElementId>(); // collection to store the walls joined to the selected wall
    
    // find all faces of the selected wall
    GeometryElement geometryElement = wall.get_Geometry(new Options());
    foreach (GeometryObject geometryObject in geometryElement)
    {
        if (geometryObject is Solid)
        {
            Solid solid = geometryObject as Solid;
            foreach (Face face in solid.Faces)
            {
                // for each face, find the other elements that generated the geometry of that face
                ICollection<ElementId> generatingElementIds = wall.GetGeneratingElementIds(face);
    
                generatingElementIds.Remove(wall.Id); // remove the originally selected wall, leaving only other elements joined to it
                foreach (ElementId id in generatingElementIds)
                {
                    if (!(joinedElements.Contains(id)))
                        joinedElements.Add(id); // add each wall joined to this face to the overall collection 
                }
            }
        }
    }
    
    uidocument.Selection.SetElementIds(joinedElements); // select all of the joined elements

CopyVB.NET
    
    
    ' Find elements joined or attached to the end faces of a given wall (such as walls and roofs).
    ' Mid-joined walls (such as in a T configuration) are not found because they do not affect end face geometry.
    
    
    Dim joinedElements As ICollection(Of ElementId) = New Collection(Of ElementId)()
    ' collection to store the walls joined to the selected wall
    ' find all faces of the selected wall
    Dim geometryElement As GeometryElement = wall.Geometry(New Options())
    For Each geometryObject As GeometryObject In geometryElement
        If TypeOf geometryObject Is Solid Then
            Dim solid As Solid = TryCast(geometryObject, Solid)
            For Each face As Face In solid.Faces
                ' for each face, find the other elements that generated the geometry of that face
                Dim generatingElementIds As ICollection(Of ElementId) = wall.GetGeneratingElementIds(face)
    
                generatingElementIds.Remove(wall.Id)
                ' remove the originally selected wall, leaving only other elements joined to it
                For Each id As ElementId In generatingElementIds
                    If Not (joinedElements.Contains(id)) Then
                        joinedElements.Add(id)
                        ' add each wall joined to this face to the overall collection 
                    End If
                Next
            Next
        End If
    Next
    
    uidocument.Selection.SetElementIds(joinedElements)
    ' select all of the joined elements

# Exceptions

| Exception | Condition |
| --- | --- |
| [Autodesk.Revit.Exceptions..::..ArgumentException](2e6e4206-97a8-dd4b-df5d-4269f4bb6088.md) | The input geometryObject is invalid and so cannot be used to obtain the generating element ids. |
| [Autodesk.Revit.Exceptions..::..ArgumentNullException](631e1424-60f4-929b-4e52-dda9dcd26316.md) | A non-optional argument was null |
  
# See Also

[Element Class](eb16114f-69ea-f4de-0d0d-f7388b105a16.md)

[Autodesk.Revit.DB Namespace](87546ba7-461b-c646-cbb1-2cb8f5bff8b2.md)

Send comments on this topic to [Autodesk](mailto:revitapifeedback%40autodesk.com?Subject=Revit 2024 API)