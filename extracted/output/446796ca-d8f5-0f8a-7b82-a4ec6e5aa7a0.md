

Collapse AllExpand All Code: All Code: Multiple Code: C# Code: Visual Basic Code: Visual C++   
---  
  
C#Visual BasicVisual C++

Revit 2024 API  
---  
Application..::..FailuresProcessing Event  
[Application Class](94db8ea8-d2c3-5e71-8030-466bcb8e4426.md) Example See Also [Send Feedback](javascript:SubmitFeedback\('revitapifeedback@autodesk.com','Revit 2024 API','','','','%0\\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\\A%0\\d','Customer%20Feedback'\);)  
---  
  
Subscribe to the FailuresProcessing event to be notified when failures are being processed at the end of transaction. 

**Namespace:** [Autodesk.Revit.ApplicationServices](91957e18-2935-006c-83ab-3b5b9dbb5928.md)**Assembly:** RevitAPI (in RevitAPI.dll) Version: 24.0.0.0 (24.0.0.0)**Since:** 2011 

# Syntax

C#  
---  
      
    
    public event EventHandler<[FailuresProcessingEventArgs](a35dc3de-c8a4-8af0-6a3c-706716e5f885.md)> FailuresProcessing  
  
Visual Basic  
---  
      
    
    Public Event FailuresProcessing As EventHandler(Of [FailuresProcessingEventArgs](a35dc3de-c8a4-8af0-6a3c-706716e5f885.md))  
  
Visual C++  
---  
      
    
    public:
     event EventHandler<[FailuresProcessingEventArgs](a35dc3de-c8a4-8af0-6a3c-706716e5f885.md)^>^ FailuresProcessing {
    	void add (EventHandler<[FailuresProcessingEventArgs](a35dc3de-c8a4-8af0-6a3c-706716e5f885.md)^>^ value);
    	void remove (EventHandler<[FailuresProcessingEventArgs](a35dc3de-c8a4-8af0-6a3c-706716e5f885.md)^>^ value);
    }  
  
# Remarks

This event is raised when failures are being processed during transaction commit or rollback operations. Handlers of this event have a limited ability to modify the document and/or failures in it, using the provided restricted failures accessor interface. 

The event arguments provide access to the FailuresAccessor via [!:Autodesk::Revit::DB::FailuresProcessingEventArgs::GetFailuresAccessor()] which contains the details of the errors and/or warnings that caused the event to trigger. 

The arguments also allow you to set a processing result via [!:Autodesk::Revit::DB::FailuresProcessingEventArgs::SetProcessingResult()]. The processing result determines if Revit will attempt to recommit the currently failing transaction, roll it back, or continue. If you are explicitly dismissing warnings from the event callback, a processing result of Continue is sufficient. But if you are explicitly resolving errors from the event callback, you must change the processing result to ProceedWithCommit to ensure that the user is not shown the dismissed errors. If you wish to cancel the transaction silently without showing the errors to the user, set the processing result to ProceedWithRollback, however you must also call [SetClearAfterRollback(Boolean)](bebe6efd-b05f-7a0b-4cc3-609ec35be42c.md) in order to dismiss the errors and silently cancel the transaction.

# Examples

CopyC#
    
    
    [Autodesk.Revit.Attributes.Transaction(Autodesk.Revit.Attributes.TransactionMode.Manual)]
    
     public class NoUnenclosedRoomWarnings : IExternalApplication
     {
         static AddInId m_appId = new AddInId(new Guid("EB296268-8364-4d25-96E6-F664C608503C"));
    
         public Result OnStartup(UIControlledApplication application)
         {
             //Create an API application that subscribes to FailuresProcessing event for the lifetime of the session.
             application.ControlledApplication.FailuresProcessing += new EventHandler<FailuresProcessingEventArgs>(CheckWarnings);
             return Result.Succeeded;
         }
    
         public Result OnShutdown(UIControlledApplication application)
         {
             return Result.Succeeded;
         }
    
         private void CheckWarnings(object sender, FailuresProcessingEventArgs e)
         {
             FailuresAccessor fa = e.GetFailuresAccessor();
             IList<FailureMessageAccessor> failList = new List<FailureMessageAccessor>();
             failList = fa.GetFailureMessages(); // Inside event handler, get all warnings
             foreach (FailureMessageAccessor failure in failList)
             { 
                 // check FailureDefinitionIds against ones that you want to dismiss, 
                 FailureDefinitionId failID = failure.GetFailureDefinitionId();
                 // prevent Revit from showing Unenclosed room warnings
                 if (failID == BuiltInFailures.RoomFailures.RoomNotEnclosed)
                 {
                     fa.DeleteWarning(failure);
                 }
             }
         }
     }

CopyVB.NET
    
    
    <Autodesk.Revit.Attributes.Transaction(Autodesk.Revit.Attributes.TransactionMode.Manual)> _
    Public Class NoUnenclosedRoomWarnings
        Implements IExternalApplication
        Shared m_appId As New AddInId(New Guid("EB296268-8364-4d25-96E6-F664C608503C"))
    
        Public Function OnStartup(application As UIControlledApplication) As Autodesk.Revit.UI.Result Implements IExternalApplication.OnStartup
            'Create an API application that subscribes to FailuresProcessing event for the lifetime of the session.
            AddHandler application.ControlledApplication.FailuresProcessing, AddressOf CheckWarnings
            Return Result.Succeeded
        End Function
    
        Public Function OnShutdown(application As UIControlledApplication) As Autodesk.Revit.UI.Result Implements IExternalApplication.OnShutdown
            Return Result.Succeeded
        End Function
    
        Private Sub CheckWarnings(sender As Object, e As FailuresProcessingEventArgs)
            Dim fa As FailuresAccessor = e.GetFailuresAccessor()
            Dim failList As IList(Of FailureMessageAccessor) = New List(Of FailureMessageAccessor)()
            failList = fa.GetFailureMessages()
            ' Inside event handler, get all warnings
            For Each failure As FailureMessageAccessor In failList
                ' check FailureDefinitionIds against ones that you want to dismiss, 
                Dim failID As FailureDefinitionId = failure.GetFailureDefinitionId()
                ' prevent Revit from showing Unenclosed room warnings
                If failID = BuiltInFailures.RoomFailures.RoomNotEnclosed Then
                    fa.DeleteWarning(failure)
                End If
            Next
        End Sub
    End Class

# See Also

[Application Class](94db8ea8-d2c3-5e71-8030-466bcb8e4426.md)

[Autodesk.Revit.ApplicationServices Namespace](91957e18-2935-006c-83ab-3b5b9dbb5928.md)

Send comments on this topic to [Autodesk](mailto:revitapifeedback%40autodesk.com?Subject=Revit 2024 API)