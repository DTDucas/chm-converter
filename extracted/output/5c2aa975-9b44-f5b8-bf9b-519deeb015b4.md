

Collapse AllExpand All Code: All Code: Multiple Code: C# Code: Visual Basic Code: Visual C++   
---  
  
C#Visual BasicVisual C++

Revit 2024 API  
---  
FailureDefinition..::..CreateFailureDefinition Method   
[FailureDefinition Class](b0c061b0-d712-0c41-6054-b8ce8f996256.md) Example See Also [Send Feedback](javascript:SubmitFeedback\('revitapifeedback@autodesk.com','Revit 2024 API','','','','%0\\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\\A%0\\d','Customer%20Feedback'\);)  
---  
  
Creates an instance of a FailureDefinition. 

**Namespace:** [Autodesk.Revit.DB](87546ba7-461b-c646-cbb1-2cb8f5bff8b2.md)**Assembly:** RevitAPI (in RevitAPI.dll) Version: 24.0.0.0 (24.0.0.0)**Since:** 2011 

# Syntax

C#  
---  
      
    
    public static [FailureDefinition](b0c061b0-d712-0c41-6054-b8ce8f996256.md) CreateFailureDefinition(
    	[FailureDefinitionId](b6ada360-a6fe-ebb6-b095-d74b37ade9bf.md) id,
    	[FailureSeverity](d0cdffe3-22c5-b764-8090-5104f044b000.md) severity,
    	string messageString
    )  
  
Visual Basic  
---  
      
    
    Public Shared Function CreateFailureDefinition ( _
    	id As [FailureDefinitionId](b6ada360-a6fe-ebb6-b095-d74b37ade9bf.md), _
    	severity As [FailureSeverity](d0cdffe3-22c5-b764-8090-5104f044b000.md), _
    	messageString As String _
    ) As [FailureDefinition](b0c061b0-d712-0c41-6054-b8ce8f996256.md)  
  
Visual C++  
---  
      
    
    public:
    static [FailureDefinition](b0c061b0-d712-0c41-6054-b8ce8f996256.md)^ CreateFailureDefinition(
    	[FailureDefinitionId](b6ada360-a6fe-ebb6-b095-d74b37ade9bf.md)^ id, 
    	[FailureSeverity](d0cdffe3-22c5-b764-8090-5104f044b000.md) severity, 
    	String^ messageString
    )  
  
#### Parameters

id
    Type: [Autodesk.Revit.DB..::..FailureDefinitionId](b6ada360-a6fe-ebb6-b095-d74b37ade9bf.md) Unique identifier of the failure. 

severity
    Type: [Autodesk.Revit.DB..::..FailureSeverity](d0cdffe3-22c5-b764-8090-5104f044b000.md) The severity of the failure. Cannot be FailureSeverity::None. 

messageString
    Type: System..::..String A user-visible string describing the failure. 

#### Return Value

The created FailureDefinition instance. 

# Remarks

The newly created FailureDefinition will be added to the FailureDefinitionRegistry. Because FailureDefinition could only be registered when Revit starting up, this function cannot be used after Revit has already started. Throws InvalidOperationException if invoked after Revit start-up is completed. 

# Examples

CopyC#
    
    
    // define a new failure id for a warning about walls
    FailureDefinitionId warnId = 
        new FailureDefinitionId(new Guid("FB4F5AF3-42BB-4371-B559-FB1648D5B4D1"));
    
    // register the new warning using FailureDefinition
    FailureDefinition failDef = FailureDefinition.CreateFailureDefinition(warnId, 
        FailureSeverity.Warning, 
        "Wall is too big (>100'). Performance problems may result.");

CopyVB.NET
    
    
    ' define a new failure id for a warning about walls
    Dim warnId As New FailureDefinitionId(New Guid("FB4F5AF3-42BB-4371-B559-FB1648D5B4D1"))
    
    ' register the new warning using FailureDefinition
    Dim failDef As FailureDefinition = FailureDefinition.CreateFailureDefinition(warnId, FailureSeverity.Warning, "Wall is too big (>100'). Performance problems may result.")

# Exceptions

| Exception | Condition |
| --- | --- |
| [Autodesk.Revit.Exceptions..::..ArgumentException](2e6e4206-97a8-dd4b-df5d-4269f4bb6088.md) | The id of failure definition is not valid. -or- The id of failure definition is already used to register another FailureDefinition. -or- The severity of failures cannot be FailureSeverity::None. -or- Message string is empty or contains invalid characters. |
| [Autodesk.Revit.Exceptions..::..ArgumentNullException](631e1424-60f4-929b-4e52-dda9dcd26316.md) | A non-optional argument was null |
| [Autodesk.Revit.Exceptions..::..ArgumentOutOfRangeException](60f148c9-ece0-a6bb-4e12-bb4a9c8c8a24.md) | A value passed for an enumeration argument is not a member of that enumeration |
  
# See Also

[FailureDefinition Class](b0c061b0-d712-0c41-6054-b8ce8f996256.md)

[Autodesk.Revit.DB Namespace](87546ba7-461b-c646-cbb1-2cb8f5bff8b2.md)

Send comments on this topic to [Autodesk](mailto:revitapifeedback%40autodesk.com?Subject=Revit 2024 API)