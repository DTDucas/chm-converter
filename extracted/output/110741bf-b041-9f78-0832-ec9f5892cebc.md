

Collapse AllExpand All Code: All Code: Multiple Code: C# Code: Visual Basic Code: Visual C++   
---  
  
C#Visual BasicVisual C++

Revit 2024 API  
---  
Document..::..NewFootPrintRoof Method   
[Document Class](ab1718f9-45fb-b3d3-827e-32ff81cf929c.md) Example See Also [Send Feedback](javascript:SubmitFeedback\('revitapifeedback@autodesk.com','Revit 2024 API','','','','%0\\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\\A%0\\d','Customer%20Feedback'\);)  
---  
  
Creates a new FootPrintRoof element.

**Namespace:** [Autodesk.Revit.Creation](ded320da-058a-4edd-0418-0582389559a7.md)**Assembly:** RevitAPI (in RevitAPI.dll) Version: 24.0.0.0 (24.0.0.0)

# Syntax

C#  
---  
      
    
    public [FootPrintRoof](97eb52e6-5dfd-86b3-708d-aabcda389f4a.md) NewFootPrintRoof(
    	[CurveArray](55103aad-38fd-45d2-6bf7-67a5203e99f3.md) footPrint,
    	[Level](577e5d4e-a558-118c-9dea-3b810b061775.md) level,
    	[RoofType](00b5948e-1cb6-4f3b-acc1-9f000e8cc40d.md) roofType,
    	out [ModelCurveArray](c7852e5b-0a34-771f-584f-3e9513bca50e.md) footPrintToModelCurvesMapping
    )  
  
Visual Basic  
---  
      
    
    Public Function NewFootPrintRoof ( _
    	footPrint As [CurveArray](55103aad-38fd-45d2-6bf7-67a5203e99f3.md), _
    	level As [Level](577e5d4e-a558-118c-9dea-3b810b061775.md), _
    	roofType As [RoofType](00b5948e-1cb6-4f3b-acc1-9f000e8cc40d.md), _
    	<OutAttribute> ByRef footPrintToModelCurvesMapping As [ModelCurveArray](c7852e5b-0a34-771f-584f-3e9513bca50e.md) _
    ) As [FootPrintRoof](97eb52e6-5dfd-86b3-708d-aabcda389f4a.md)  
  
Visual C++  
---  
      
    
    public:
    [FootPrintRoof](97eb52e6-5dfd-86b3-708d-aabcda389f4a.md)^ NewFootPrintRoof(
    	[CurveArray](55103aad-38fd-45d2-6bf7-67a5203e99f3.md)^ footPrint, 
    	[Level](577e5d4e-a558-118c-9dea-3b810b061775.md)^ level, 
    	[RoofType](00b5948e-1cb6-4f3b-acc1-9f000e8cc40d.md)^ roofType, 
    	[OutAttribute] [ModelCurveArray](c7852e5b-0a34-771f-584f-3e9513bca50e.md)^% footPrintToModelCurvesMapping
    )  
  
#### Parameters

footPrint
    Type: [Autodesk.Revit.DB..::..CurveArray](55103aad-38fd-45d2-6bf7-67a5203e99f3.md)The footprint of the FootPrintRoof.

level
    Type: [Autodesk.Revit.DB..::..Level](577e5d4e-a558-118c-9dea-3b810b061775.md)The level of the FootPrintRoof.

roofType
    Type: [Autodesk.Revit.DB..::..RoofType](00b5948e-1cb6-4f3b-acc1-9f000e8cc40d.md)Type of the FootPrintRoof.

footPrintToModelCurvesMapping
    Type: [Autodesk.Revit.DB..::..ModelCurveArray](c7852e5b-0a34-771f-584f-3e9513bca50e.md)%An array of Model Curves corresponding to the set of Curves input in the footPrint. By knowing which Model Curve was created by each footPrint curve, you can set properties like SlopeAngle for each curve.

# Remarks

This method will regenerate the document even in manual regeneration mode. 

# Examples

CopyC#
    
    
    // Before invoking this sample, select some walls to add a roof over.
    // Make sure there is a level named "Roof" in the document.
    
    // find the Roof level
    FilteredElementCollector collector = new FilteredElementCollector(document);
    collector.OfClass(typeof(Level));
    var elements = from element in collector where element.Name == "Roof" select element;
    Level level = elements.Cast<Level>().ElementAt<Level>(0);
    
    collector = new FilteredElementCollector(document);
    collector.OfClass(typeof(RoofType));
    RoofType roofType = collector.FirstElement() as RoofType; 
    
    // Get the handle of the application
    Autodesk.Revit.ApplicationServices.Application application = document.Application;
    
    // Define the footprint for the roof based on user selection
    CurveArray footprint = application.Create.NewCurveArray();
    UIDocument uidoc = new UIDocument(document);
    ICollection<ElementId> selectedIds = uidoc.Selection.GetElementIds();
    if (selectedIds.Count != 0)
    {
        foreach (ElementId id in selectedIds)
        {
            Element element = document.GetElement(id);
            Wall wall = element as Wall;
            if (wall != null)
            {
                LocationCurve wallCurve = wall.Location as LocationCurve;
                footprint.Append(wallCurve.Curve);
                continue;
            }
    
            ModelCurve modelCurve = element as ModelCurve;
            if (modelCurve != null)
            {
                footprint.Append(modelCurve.GeometryCurve);
            }
        }
    
    }
    else
    {
        throw new Exception("You should select a curve loop, or a wall loop, or loops combination \nof walls and curves to create a footprint roof.");
    }
    
    ModelCurveArray footPrintToModelCurveMapping = new ModelCurveArray();
    FootPrintRoof footprintRoof = document.Create.NewFootPrintRoof(footprint, level, roofType, out footPrintToModelCurveMapping);
    ModelCurveArrayIterator iterator = footPrintToModelCurveMapping.ForwardIterator();
    iterator.Reset();
    while (iterator.MoveNext())
    {
        ModelCurve modelCurve = iterator.Current as ModelCurve;
        footprintRoof.set_DefinesSlope(modelCurve, true);
        footprintRoof.set_SlopeAngle(modelCurve, 0.5);
    }

CopyVB.NET
    
    
    ' Before invoking this sample, select some walls to add a roof over.
    ' Make sure there is a level named "Roof" in the document.
    
    
    ' find the Roof level
    Dim collector As New FilteredElementCollector(document)
    collector.OfClass(GetType(Level))
    : Dim elements As System.Collections.Generic.IEnumerable(Of Autodesk.Revit.DB.Element)
    elements = From element In collector _
     Where element.Name = "Roof" _
     Select element
    
    Dim level As Level = elements.Cast(Of Level)().ElementAt(0)
    
    collector = New FilteredElementCollector(document)
    collector.OfClass(GetType(RoofType))
    Dim roofType As RoofType = TryCast(collector.FirstElement(), RoofType)
    
    ' Get the handle of the application
    Dim application As Autodesk.Revit.ApplicationServices.Application = document.Application
    
    ' Define the footprint for the roof based on user selection
    Dim footprint As CurveArray = application.Create.NewCurveArray()
    Dim uidoc As New UIDocument(document)
    Dim selectedIds As ICollection(Of ElementId) = uidoc.Selection.GetElementIds()
    If selectedIds.Count <> 0 Then
        For Each id As ElementId In selectedIds
            Dim element As Element = document.GetElement(id)
            Dim wall As Wall = TryCast(element, Wall)
            If wall IsNot Nothing Then
                Dim wallCurve As LocationCurve = TryCast(wall.Location, LocationCurve)
                footprint.Append(wallCurve.Curve)
                Continue For
            End If
    
            Dim modelCurve As ModelCurve = TryCast(element, ModelCurve)
            If modelCurve IsNot Nothing Then
                footprint.Append(modelCurve.GeometryCurve)
            End If
    
        Next
    Else
        Throw New Exception("You should select a curve loop, or a wall loop, or loops combination " & vbLf & "of walls and curves to create a footprint roof.")
    End If
    
    Dim footPrintToModelCurveMapping As New ModelCurveArray()
    Dim footprintRoof As FootPrintRoof = document.Create.NewFootPrintRoof(footprint, level, roofType, footPrintToModelCurveMapping)
    Dim iterator As ModelCurveArrayIterator = footPrintToModelCurveMapping.ForwardIterator()
    iterator.Reset()
    While iterator.MoveNext()
        Dim modelCurve As ModelCurve = TryCast(iterator.Current, ModelCurve)
        footprintRoof.DefinesSlope(modelCurve) = True
        footprintRoof.SlopeAngle(modelCurve) = 0.5
    End While

# Exceptions

| Exception | Condition |
| --- | --- |
| [Autodesk.Revit.Exceptions..::..ArgumentException](2e6e4206-97a8-dd4b-df5d-4269f4bb6088.md) | Thrown if the level does not exist in the given document. |
| [Autodesk.Revit.Exceptions..::..ArgumentException](2e6e4206-97a8-dd4b-df5d-4269f4bb6088.md) | Thrown if the roof type does not exist in the given document. |
  
# See Also

[Document Class](ab1718f9-45fb-b3d3-827e-32ff81cf929c.md)

[Autodesk.Revit.Creation Namespace](ded320da-058a-4edd-0418-0582389559a7.md)

Send comments on this topic to [Autodesk](mailto:revitapifeedback%40autodesk.com?Subject=Revit 2024 API)